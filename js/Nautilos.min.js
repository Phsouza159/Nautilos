!function(global){var html="";html="<div class='load-nautilos'>",html+="<div class='load-nautilos-body'>",html+="<div class='loader'>",html+="<div class='circle'></div>",html+="<div class='circle'></div>",html+="<div class='circle'></div>",html+="<div class='circle'></div>",html+="<div class='circle'></div>",html+="</div>",html+="<br />",html+="<div class='load-nautilos-sub-body'>",html+="<h6>Nautilos carregando arquivos...</h6>",html+="<div class='load-nautilos-nautilos-bar'></div>",html+="</div>",html+="<div id='load-efect'></div>",html+="</div>",html+="</div>",$("body").append(html);var Nautilos={Ctor:function(ob){var self=this;this.core.urlRoot=window.location.href,this.core.init(ob,this._system)},sucesso:function(){return this.core.response.data},rout:function(element){var key,attr,html,parametros=window.location.search;attr=$(element).attr("router"),(key=this.core.getRoute(attr))<0?console.log("Não foi possível achar a rota :: "+attr):(html=this.core.getData(key),$(this.core.id).html(html),window.history.pushState("object or string","Title",this.core.urlRoot.split("?")[0]+attr+parametros))},getPage:function(urlRoot=null){var x,pgs=[],i=0,ob={};do{null!=(x=this.core.getCookie("nautilos_pags_"+i))&&(pgs.push(x),i++)}while(null!=x);ob.urlName=this.core.getCookie("nautilos_urlNams").split(","),console.log(url)},core:{index:"",id:"",url:[],self:{},keysLinks:[],urlName:[],urlRoot:"",length:0,i:0,porcemtagem:0,porcentagemItem:0,squardItem:0,squardItemporcemtagem:0,form:{name:"",data:{}},response:{data:[],cache:{scripts:[],links:[],coockie:[]}},urlParametros:{parametros:{},GetQueryString:function(a){if("string"==typeof(a=a||window.location.search.substr(1).split("&").concat(window.location.hash.substr(1).split("&")))&&(a=a.split("#").join("&").split("&")),!a)return{};for(var b={},i=0;i<a.length;++i){var p=a[i].split("=");2==p.length&&(b[p[0]]=decodeURIComponent(p[1].replace(/\+/g," ")))}return this.parametros=b,b}},init:function(ob,system){var parent=this;return this.urls=ob.hasOwnProperty("url")?Array.isArray(ob.url)?ob.url:[ob.url]:["default"],this.id=ob.hasOwnProperty("id")?ob.id:"#load-html",this.index=ob.hasOwnProperty("index")?ob.index:"index",this.keysLinks=ob.hasOwnProperty("links")&&Array.isArray(ob.links)?ob.links:["index"],this.urlName=ob.hasOwnProperty("urlName")&&Array.isArray(ob.urlName)?ob.urlName:["index"],this.self=ob.hasOwnProperty("exec")&&"function"==typeof ob.exec?ob.exec:function(){},this.response.cache.scripts=!!ob.hasOwnProperty("scripts")&&(Array.isArray(ob.scripts)?ob.scripts:[ob.scripts]),this.response.cache.links=!!ob.hasOwnProperty("links")&&(Array.isArray(ob.links)?ob.links:[ob.links]),this.porcentagemItem=100/(this.response.cache.scripts.length+this.response.cache.links.length+this.urls.length),this.squardItem=280/(this.response.cache.scripts.length+this.response.cache.links.length+this.urls.length),this.gerarLoad.setCss(),this.gerarLoad.setHtml(),Array.isArray(this.response.cache.links)&&this.loadLink(),Array.isArray(this.response.cache.scripts)&&this.loadScript(),this.load(this.urls,system)},gerarLoad:{i:0,length:280,sorte:[],setCss:function(){},setHtml:function(){var html=" ",i=0;for(html="<div class='demo-content staggering-grid-demo'>",html+="<div id='efect-el' class='grid'>",html+="</div>",html+="<div id='efect-shadow' class='grid shadow'>",html+="</div>",html+="</div>",$("#load-efect").html(html);i<this.length;i++)$("#efect-el").append('<div class="small square el num-el-'+i+'"></div>');for(i=0;i<this.length;i++)$("#efect-shadow").append('<div class="small square"></div>');anime({targets:".staggering-grid-demo .el",scale:[{value:.1,easing:"easeOutSine",duration:500},{value:1,easing:"easeInOutQuad",duration:1200}],delay:anime.stagger(200,{grid:[35,8],from:"center"}),loop:!0})},pointX:function r(max){var num=0,aux=0,y=0,x=[];for(q=0;q<max;q++){for((num=parseInt((Math.random()*this.length).toFixed(0)))==this.length-1&&(num=0);this.sorte.indexOf(num)>0;)num>this.length-1?num=0:num++;num>this.length&&console.log(num),x.push(num),this.sorte.push(num)}return x},setPoint:function(nums){for(var num of nums)setTimeout(" $('.num-el-' + "+num+").css('background-color', '#44a6b7')",400+(100+num))}},load:function(urls,system){var i=0,length=urls.length,self=this;return this.i=0,this.length=length,this.getLoad(urls,0,system),this.response.data},getLoad:function getLoad(url,i,system){var self=this;null!=url[i]&&(system.server.url=url[i],system.server.ajax(system).done(function(text){if(self.addResponse(text),self.i++,self.getProgressoLoad(),self.length==self.i)return self.start();self.getLoad(url,i+1,system)}).fail(function(){console.log("Erro load!")}))},loadScript:function(){for(var i=0,length=this.response.cache.scripts.length;i<length;i++)$("head").append("<script src="+this.response.cache.scripts[i]+"><\/script>"),this.getProgressoLoad()},loadLink:function(){var i=0,length=this.response.cache.links.length;for(aux="";i<length;i++)aux=this.response.cache.links[i],aux.includes("less")?$("head").append("<link href="+aux+' rel="stylesheet/less" type="text/css"  />'):aux.includes("css")&&$("head").append("<link href="+aux+' rel="stylesheet" type="text/css"  />'),this.getProgressoLoad()},getProgressoLoad:function(){this.porcemtagem=parseInt(this.porcemtagem)+parseInt(this.porcentagemItem.toFixed(0)),this.porcemtagem>90&&setTimeout("$('.load-nautilos').hide()",4e3),setTimeout("$('.load-nautilos-nautilos-bar').css('width' ,'"+parseInt(this.porcemtagem)+"%')",300),this.gerarLoad.setPoint(this.gerarLoad.pointX(this.squardItem))},start:function(){var reload="";if($.cookie("nautilos_urlNams",this.urlName.toString(),{expires:1}),this.setCoockie(this.response.data),this.urlParametros.GetQueryString(),null!=(reload=this.urlParametros.parametros.reload))null!=(html=this.getData(this.getRoute(reload)))?$(this.id).html(html):$(this.id).html("Not found : 404");else{var nm=this.urlName.indexOf(this.index);if(nm<0)return void console.log("Erro index");$(this.id).html(this.response.data[nm])}return this.self()},addResponse:function(text){this.response.data.push(text)},getRoute:function(link){var key,i=this.urlName.indexOf(link);return key=i>1?this.urlName[i]:"notFound",i},getData:function(key){return this.response.data[key]},formData:function(element,name=" "){name=element,element.includes("#")||(element="#"+element),this.form.name=name,this.form.data[this.form.name]={},this.childNodes($(element)[0]),console.log(this.form.data)},childNodes:function childNodes(element){var x=0,e,length=0;if("object"==typeof element){if((length=element.length)>0)for(;x<length;x++)this.childNodes(element[x]);if(null!=element.childNodes&&element.childNodes.length>0)for(e of element.childNodes)this.childNodes(e);"INPUT"!=element.nodeName&&"SELECT"!=element.nodeName||(this.form.data[this.form.name][element.name]=element.value)}},lastResponse:function(){var value="",key=this.response.data.length-1;return value=this.response.data[key],console.log(value),value},setCoockie:function(cvalue,cname="nautilos_pags",exdays=1){var d=new Date,cookie="",i=0;d.setTime(d.getTime()+24*exdays*60*60*1e3);var expires="expires="+d.toGMTString();for(var c of cvalue)$.cookie(cname+"_"+i,c,{expires:1}),i++},getCookie:function(cname){return $.cookie(cname)},checkCookie:function(){}},_system:{server:{Config:new Object,url:"",token:"",data:new Object,method:"GET",type:"html",self:this,ajax:function(server=this){var self=server;return $.ajax({url:self.server.url,method:self.server.method,data:{data:self.server.data},dataType:"html"})}}}};global.nautilos=Nautilos}(this);